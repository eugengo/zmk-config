/dts-v1/;
/ {
    chosen {
        zmk,kscan = &kscan0;
        // Можно добавить zmk,display, zmk,led, если используешь OLED/RGB
    };

    /* ========== Matrix ========== */
    kscan0: kscan {
        compatible = "zmk,kscan-gpio-matrix";
        row-gpios = <&gpio0 4 GPIO_ACTIVE_LOW>,
                    <&gpio0 5 GPIO_ACTIVE_LOW>,
                    <&gpio0 6 GPIO_ACTIVE_LOW>,
                    <&gpio0 7 GPIO_ACTIVE_LOW>,
                    <&gpio0 8 GPIO_ACTIVE_LOW>;
        col-gpios = <&gpio0 9  GPIO_ACTIVE_LOW>,
                    <&gpio0 10 GPIO_ACTIVE_LOW>,
                    <&gpio0 11 GPIO_ACTIVE_LOW>,
                    <&gpio0 12 GPIO_ACTIVE_LOW>,
                    <&gpio0 13 GPIO_ACTIVE_LOW>,
                    <&gpio0 14 GPIO_ACTIVE_LOW>;
        diode-direction = "col2row";
        debounce-press-ms = <5>;
        debounce-release-ms = <5>;
    };

    /* ========== OLED (опционально) ========== */
    &i2c1 {
        status = "okay";
        scl-pin = <3>;
        sda-pin = <2>;

        oled0: ssd1306@3c {
            compatible = "solomon,ssd1306";
            reg = <0x3c>;
            width = <128>;
            height = <32>;
            rotation = <270>;
        };
    };

    /* ========== RGB (опционально) ========== */
    ws2812: ws2812@0 {
        compatible = "worldsemi,ws2812";
        chain-length = <2>;
        // data-gpios или data-pin — зависит от драйвера и версии ZMK
        // data-gpios = <&gpio0 28 GPIO_ACTIVE_HIGH>;
        // или
        // data-pin = <28>;
    };

    /* ========== Encoder (опционально) ========== */
    // alps_ec11: ec11@0 {
    //     compatible = "alps,ec11";
    //     a-gpios = <&gpio0 27 GPIO_ACTIVE_HIGH>;
    //     b-gpios = <&gpio0 26 GPIO_ACTIVE_HIGH>;
    //     steps = <4>;
    // };
};

